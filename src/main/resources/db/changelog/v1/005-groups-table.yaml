databaseChangeLog:
  - changeSet:
      id: create-groups-table
      author: Shispon
      preConditions:
        - onFail: MARK_RAN
        - not:
            tableExists:
              tableName: groups
              schemaName: diplom
      changes:
        - sql:
            sql:
                  CREATE TABLE diplom.groups (
                  id int primary key generated by default as identity,
                  group_name TEXT NOT NULL UNIQUE,
                  curator_id INT
                );
            dbms: postgresql
        - sql:
              sql: ALTER TABLE diplom.groups
                    ADD CONSTRAINT fk_staff FOREIGN KEY (curator_id) REFERENCES diplom.staff(id);
              dbms: postgresql